# K210调试记录

## 最新仓库

[Dh2zZ / OsComp2022_Core · GitLab (eduxiji.net)](https://gitlab.eduxiji.net/dh2zz/oscomp2022_core/)

## 由于gdb_println造成的卡死问题

K210在线跑的时候会在 `frame_allocator::init_frame_allocator()`处卡死，而且似乎甚至没有进入该函数中。具体原因未知。解决方法是将gdb_println的QEMU改为0。

## mmap异常问题

在k210上执行test_mmap时报错(QEMU上正常)，输出日志如下：
```
========== START test_mmap ==========
file len: 27
[debug] sys_mmap(aligned_start: 0x80000000, aligned_len: 4096, prot: 3, flags: 1, fd: 3, offset: 0 ) = 0x80000000
mmap content: [kernel] Exception(InstructionPageFault) in application, bad addr = 0x0, bad instruction = 0x0, kernel killed it.
[kernel] Segmentation Fault, SIGSEGV=11
========== START test_munmap ==========
```
